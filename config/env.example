# =================================================================
# shpak-k8s Environment Configuration Example
# =================================================================
# Copy this file to .env and fill in your actual values:
#   cp env.example .env
#
# SECURITY: Never commit .env with real credentials to git!
# =================================================================

# --- Security tokens ---
API_TOKEN=your-api-token-here
EMAIL_TOKEN=your-email-token-here

# --- MySQL Database (OLTP - operational queries) ---
MYSQL_HOST=127.0.0.1
MYSQL_PORT=3306
MYSQL_USER=your-mysql-user
MYSQL_PASSWORD=your-mysql-password
MYSQL_DB=your-database-name
MYSQL_USE_PURE=True

# --- StarRocks Database (OLAP - analytical queries) ---
STARROCKS_HOST=starrocks-fe-svc.starrocks.svc.cluster.local
STARROCKS_PORT=9030
STARROCKS_USER=root
STARROCKS_PASSWORD=your-starrocks-password
STARROCKS_DB=RADIUS

# --- Service endpoints (Internal Kubernetes services) ---
# MHE DB - Main database service
MHE_DB_HOST=mhe-db-service
MHE_DB_PORT=80

# MHE AE - Action Engine service
MHE_AE_HOST=mhe-ae-service
MHE_AE_PORT=80

# MHE APP - Application service
MHE_APP_HOST=mhe-app-service
MHE_APP_PORT=80

# MHE FortiAPI - FortiGate API service (with egress IP 10.3.11.201)
MHE_FORTIAPI_HOST=mhe-fortiapi-service
MHE_FORTIAPI_PORT=80

# MHE LDAP - LDAP service (with egress IP 10.3.11.202)
MHE_LDAP_HOST=mhe-ldap-service
MHE_LDAP_PORT=80

# MHE EMAIL - Email service (with egress IP 10.3.11.203)
MHE_EMAIL_HOST=mhe-email-service
MHE_EMAIL_PORT=80

# --- SMTP Configuration ---
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_USER=your-smtp-user@example.com
SMTP_PASSWORD=your-smtp-password
SMTP_USE_TLS=True
SMTP_USE_SSL=False
SMTP_FROM=noreply@example.com
SMTP_TIMEOUT=10

# --- LDAP Configuration (OpenLDAP/Active Directory) ---
LDAP_URI=ldap://ldap.example.com:389
LDAP_BIND_DN=cn=admin,dc=example,dc=com
LDAP_BIND_PASSWORD=your-ldap-password
LDAP_BASE_DN=dc=example,dc=com
LDAP_START_TLS=false

# --- RADIUS Configuration ---
# Comma-separated list of RADIUS server IPs
RADIUS_SERVER_IP=192.168.1.10,192.168.1.11,192.168.1.12,192.168.1.13
RADIUS_SHARED_SECRET=your-radius-shared-secret

# --- FortiGate NAS to FortiGate Management IP Mapping ---
# Format: FORTI_GATE_N_NAS = comma-separated NAS IPs (RADIUS NAS-IP-Address)
#         FORTI_GATE_N_FGS = comma-separated FortiGate management IPs
#
# This mapping is used to determine which FortiGate to configure
# when receiving RADIUS accounting from specific NAS servers

# FortiGate Cluster 1
FORTI_GATE_1_NAS=10.0.1.1,10.0.1.2
FORTI_GATE_1_FGS=10.3.1.101,10.3.1.102

# FortiGate Cluster 2
FORTI_GATE_2_NAS=10.0.2.1,10.0.2.2
FORTI_GATE_2_FGS=10.3.2.101,10.3.2.102

# FortiGate Cluster 3
FORTI_GATE_3_NAS=10.0.3.1,10.0.3.2
FORTI_GATE_3_FGS=10.3.3.101,10.3.3.102

# FortiGate Cluster 4
FORTI_GATE_4_NAS=10.0.4.1,10.0.4.2
FORTI_GATE_4_FGS=10.3.4.101,10.3.4.102

# FortiGate Cluster 5
FORTI_GATE_5_NAS=10.0.5.1,10.0.5.2
FORTI_GATE_5_FGS=10.3.5.101,10.3.5.102

# FortiGate Cluster 6
FORTI_GATE_6_NAS=10.0.6.1,10.0.6.2
FORTI_GATE_6_FGS=10.3.6.101,10.3.6.102

# FortiGate Cluster 7
FORTI_GATE_7_NAS=10.0.7.1,10.0.7.2
FORTI_GATE_7_FGS=10.3.7.101,10.3.7.102

# --- Default FortiGate Policy Settings (Optional) ---
# These values are used as defaults when creating firewall policies
# Override these to match your FortiGate configuration
DEFAULT_POLICY_ACTION=deny
DEFAULT_POLICY_SRCINTF=internal
DEFAULT_POLICY_DSTINTF=external
DEFAULT_POLICY_DSTADDR1=dns-server-1
DEFAULT_POLICY_DSTADDR2=dns-server-2
DEFAULT_POLICY_DSTADDR6_1=dns-server-1-ipv6
DEFAULT_POLICY_DSTADDR6_2=dns-server-2-ipv6
DEFAULT_POLICY_SCHEDULE=always
DEFAULT_POLICY_SSL_SSH_PROFILE=
DEFAULT_POLICY_LOGTRAFFIC=disable
DEFAULT_POLICY_GROUP=default-group
DEFAULT_POLICY_DSTADDR_NEGATE=enable
DEFAULT_POLICY_DSTADDR6_NEGATE=enable

